<?xml version="1.0" encoding="UTF-8"?>
<pipeline name="test">

  <!--

    Strategy:
    1) Capture Frame
    2) Grayscale
    3) Gaussian blur (kernel size/std deviation)
    4) Balance (subtract stored balance from smoothed image)
    5) locally adaptive threshold (block size/ threshold)


  -->


    <module name="video0" type="camera">
       <setting name="fps" type="integer" value="100"/>
        <setting name="device" type="integer" value="0"/>
    </module>


    <module name="grayscale" type="grayscale">
        <setting name="input" type="frame" value="video0:OUTPUT"/>
    </module>

    <module name="balance" type="balance">
        <setting name="input" type="frame" value="grayscale:OUTPUT"/>
    </module>

        

    <module name="blur" type="blur">
        <setting name="input" type="frame" value="balance:OUTPUT"/>
        <setting name="size" type="integer" value="10"/>
    </module>


     <module name="binary" type="binary">
        <setting name="input" type="frame" value="balance:OUTPUT"/>
        <setting name="threshold" type="integer" value="150"/>
    </module>


</pipeline>
